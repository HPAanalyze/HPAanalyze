"0","```r
level_colors = c('Not detected' = '#ffffb2', 'Low' = '#fecc5c', 'Medium' = '#fd8d3c', 'High' = '#e31a1c')

pathology_subset %>%
  select(gene, cancer, high, medium, low, not_detected) %>%
  rename('High' = 'high', 'Medium' = 'medium', 'Low' = 'low', 'Not detected' = 'not_detected') %>%
  melt(measure.vars = c('High', 'Medium', 'Low', 'Not detected'),
       variable.name = 'level',
       value.name = 'patient_count') %>%
#  mutate(level = factor(level, levels = c('not_detected', 'low', 'medium', 'high'))) %>%
#  print() %>%
  ggplot(aes(x = gene, y = patient_count, fill = level)) +
    geom_bar(stat = 'identity', position = 'fill') +
    scale_x_discrete(limits = target_gene) +
    ylab('Patient portions') +
    scale_fill_manual(values = level_colors) +
#    scale_fill_brewer(palette = 'YlOrRd', direction = -1) +
    facet_wrap(~ cancer) +
    theme(axis.text.x = element_text(angle = 90, hjust = 1))
```"
